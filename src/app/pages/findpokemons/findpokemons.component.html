<!--LOADER SEARCHING POKEMON-->
<div class = "jumbotron text-center" *ngIf="showButton" [ngStyle]="{'height': '100%'}" style="display: table; width: 100%">
    <div class = "container waitSearch" *ngIf="!searchingPokemon">
    </div>
    <div class="buttonSearch" (click)="getRandomPokemon()"*ngIf="!searchingPokemon">
        <h1>Search Pokemon</h1>
    </div>
    <div class = "container pokeballLoader" *ngIf="searchingPokemon">
      <img src="../../../assets/images/pokeball.gif" alt="">
    </div>
</div>


<!--POKEMOM INFO-->
<div class="jumbotron" [ngStyle]="{'height': 'calc(100% - 160px)'}" *ngIf="!showButton && !searchingPokemon">
  <div class="container-fluid">
      <div class="row">
        <div class="col-md-12 text-center">
          <h4 class="font-weight-bold">{{pokemon.name | uppercase}}</h4>
        </div>
      </div>

      <hr style="width: 100%; color: black; height: 1px; background-color:black;" />

      <div class="row">
        <div class="col-md-4 col-md-offset-2 text-center">
          <img width="200px" src="../../../assets/images/pokemons/{{pokemon.id}}.svg" alt="">
        </div>
        <div class="col-md-6">
          <div class="pokemonTypes">
            <div class="d-inline pokemonType" *ngFor="let t of pokemon.types" [ngStyle]="{'backgroundColor': typeColors[t.type.name]}">
              {{t.type.name}}
            </div>
          </div>

          <div class="vcenter">
            <div class="row">
              <div class="col-md-6 text-left">HP</div>
              <div class="col-md-6">
                <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar"
                    aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[5].base_stat">
                    {{pokemon.stats[5].base_stat}}
                    </div>
                </div>
              </div>
            </div>

            <div class="row">
                <div class="col-md-6">Attack</div>
                <div class="col-md-6">
                  <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar"
                      aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[4].base_stat">
                      {{pokemon.stats[4].base_stat}}
                      </div>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">Defense</div>
                <div class="col-md-6">
                  <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar"
                      aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[3].base_stat">
                      {{pokemon.stats[3].base_stat}}
                      </div>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">Speed</div>
                <div class="col-md-6">
                  <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar"
                      aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[0].base_stat">
                      {{pokemon.stats[0].base_stat}}
                      </div>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">Special Attack</div>
                <div class="col-md-6">
                  <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar"
                      aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[2].base_stat">
                      {{pokemon.stats[2].base_stat}}
                      </div>
                  </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">Special Defense</div>
                <div class="col-md-6">
                  <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar"
                      aria-valuemin="0" aria-valuemax="150" [style.width.%]="pokemon.stats[1].base_stat">
                      {{pokemon.stats[1].base_stat}}
                      </div>
                  </div>
                </div>
            </div>

          </div>
        </div>
      </div>

      <hr style="width: 100%; color: black; height: 1px; background-color:black;" />

      <div class="row">
        <div class="col-md-12">
          <h5><b>Description</b></h5>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
            {{pokemon.description}}
        </div>
      </div>

      <hr style="width: 100%; color: black; height: 1px; background-color:black;" />

      <div class="row">
        <div class="col-md-12">
          <h5><b>Informations</b></h5>
        </div>

        <div class="col-md-3">
            <div class="d-inline"><b>National ID: </b></div>
            <div class="d-inline">#{{pokemon.id}}</div>
        </div>

        <div class="col-md-3">
            <div class="d-inline"><b>Height: </b></div>
            <div class="d-inline">{{pokemon.height/10}} m</div>
        </div>

        <div class="col-md-3">
            <div class="d-inline"><b>Weight: </b></div>
            <div class="d-inline">{{pokemon.weight/10}} kg</div>
        </div>

        <div class="col-md-3">
            <div class="d-inline"><b>Capture Rate: </b></div>
            <div class="d-inline">{{pokemon.capture_rate | number:'2.0-1'}}%</div>
        </div>
      </div>

      <hr style="width: 100%; color: black; height: 1px; background-color:black;" />

      <div class="row">
        <div class="col-md-12">
          <h5><b>Moves</b></h5>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3" *ngFor="let m of pokemon.moves">{{m.move.name}}</div>
      </div>
    </div>
</div>

<!--FOOTER FOR CATCH BUTTONS-->
<div class="myFooter fixed-bottom bg-dark" *ngIf="!showButton" style="display: table;">
  <div class="container-fluid" style="display: table-cell; vertical-align: middle;">
      <div class="row">
        <div class="col-md-6">

          <button type="button" class="btn btn-danger btn-lg btn-block sepButton" (click)="toggleView()">
            Give UP
          </button>
        </div>
        <div class="col-md-6">

          <button type="button" class="btn btn-success btn-block btn-lg sepButton" data-toggle="modal" data-target="#myModal" (click)="catchPokemon()">
            CATCH!
          </button>
        </div>
      </div>
  </div>
</div>

<!-- Modal HTML -->
<div id="myModal" class="modal fade">
  <div class="modal-dialog modal-confirm">
    <div class="modal-content">
      <div class="modal-header">
        <div class="icon-box">
          <i class="material-icons">&#xE876;</i>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      </div>
      <div class="modal-body text-center">
        <h4>Great!</h4>
        <p>Your captured a {{pokemon.name | uppercase}}.</p>
        <button class="btn btn-success sepButton" data-dismiss="modal"><span>
            Keep Hunting</span> <i class="material-icons">search</i>
        </button>
        <button class="btn btn-success sepButton btnGoPokedex" data-dismiss="modal" routerLink="/mypokedex">
          <span>Go to Pokedex</span><i class="material-icons">arrow_forward</i>
        </button>
      </div>
    </div>
  </div>
</div>
